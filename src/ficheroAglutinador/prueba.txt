import java.io.*;
import java.util.ArrayList;

class PersonaUnificado implements Serializable {
    private String nombre;
    private int edad;

    public PersonaUnificado(String nombre, int edad) {
        this.nombre = nombre;
        this.edad = edad;
    }

    // Getters y setters (omitiendo para simplificar el ejemplo)
}

public class Main {
    public static void main(String[] args) {
        // Serializar objetos y guardarlos en "PUserializado"
        ArrayList<PersonaUnificado> personas = new ArrayList<>();
        personas.add(new PersonaUnificado("Juan", 30));
        personas.add(new PersonaUnificado("Mar√≠a", 25));

        try {
            FileOutputStream fileOut = new FileOutputStream("PUserializado");
            ObjectOutputStream out = new ObjectOutputStream(fileOut);
            out.writeObject(personas);
            out.close();
            fileOut.close();
            System.out.println("Objetos serializados y guardados en PUserializado.");
        } catch (IOException e) {
            e.printStackTrace();
        }

        // Cargar objetos serializados desde "PUserializado"
        ArrayList<PersonaUnificado> personasCargadas = null;

        try {
            FileInputStream fileIn = new FileInputStream("PUserializado");
            ObjectInputStream in = new ObjectInputStream(fileIn);
            personasCargadas = (ArrayList<PersonaUnificado>) in.readObject();
            in.close();
            fileIn.close();
        } catch (IOException | ClassNotFoundException e) {
            e.printStackTrace();
        }

        if (personasCargadas != null) {
            for (PersonaUnificado persona : personasCargadas) {
                System.out.println("Nombre: " + persona.getNombre() + ", Edad: " + persona.getEdad());
            }
        } else {
            System.out.println("No se pudieron cargar los objetos desde PUserializado.");
        }
    }
}